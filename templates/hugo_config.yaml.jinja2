# Hugo configuration for Bazel documentation site
# Generated automatically by devsite-to-hugo-converter

baseURL: "{{ config.baseURL }}"
title: "{{ config.title }}"
description: "{{ config.description }}"
languageCode: "{{ config.languageCode }}"

# Content configuration
contentDir: "content"
dataDir: "data"
layoutDir: "layouts"
staticDir: "static"
archetypeDir: "archetypes"

# Build configuration
buildDrafts: false
buildFuture: false
buildExpired: false
canonifyURLs: false

# Markup configuration
markup:
  goldmark:
    renderer:
      unsafe: true
    parser:
      attribute:
        block: true
      autoHeadingID: true
      autoHeadingIDType: "github"
    extensions:
      definitionList: true
      footnote: true
      linkify: true
      strikethrough: true
      table: true
      taskList: true
      typographer: true
  highlight:
    style: "github"
    lineNos: false
    lineNumbersInTable: false
    tabWidth: 4
    guessSyntax: true
    noClasses: false
  math:
    enable: false

# Menu configuration
menu:
  main:
    - name: "Tutorials"
      url: "/tutorials/"
      weight: 10
    - name: "How-To Guides"
      url: "/how-to-guides/"
      weight: 20
    - name: "Explanations"
      url: "/explanations/"
      weight: 30
    - name: "Reference"
      url: "/reference/"
      weight: 40
    - name: "Community"
      url: "/explanations/community/"
      weight: 50
    - name: "About"
      url: "/explanations/about/"
      weight: 60

# Parameters for Docsy theme
params:
  # Repository information
  github_repo: "https://github.com/{{ source_repo.owner }}/{{ source_repo.name }}"
  github_branch: "{{ source_repo.branch }}"
  github_subdir: "{{ source_repo.path }}"
  
  # Edit page configuration
  edit_page: true
  
  # Search configuration
  search:
    enabled: true
    
  # Navigation configuration
  navigation:
    depth: 4
    
  # Footer configuration
  footer:
    enable: true
    
  # Disable math rendering
  katex:
    enable: false
  math:
    enable: false
  # Disable MathJax
  mathjax:
    enable: false
    
  # Taxonomy configuration
  taxonomy:
    taxonomyCloud: ["tags", "categories"]
    taxonomyCloudTitle: ["Tag Cloud", "Categories"]
    taxonomyPageHeader: ["tags", "categories"]

  # Enable light/dark mode
  ui:
    showLightDarkModeMenu: true
    mode: dark # Set the default mode to dark
    sidebar_menu_compact: true
    ul_show: 1
    sidebar_menu_foldable: true
    sidebar_cache_limit: 1000

# Taxonomies
taxonomies:
  tag: "tags"
  category: "categories"

# Output formats
outputs:
  home: ["HTML", "RSS", "JSON"]
  page: ["HTML"]
  section: ["HTML", "RSS"]

# Security configuration
security:
  exec:
    allow: ["^(dart-)?sass(-embedded)?$", "^go$", "^npx$", "^postcss$"]
  funcs:
    getenv: ["^HUGO_", "^CI$"]

# Module configuration (for Docsy theme)
module:
  imports:
    - path: github.com/google/docsy
      disable: false
